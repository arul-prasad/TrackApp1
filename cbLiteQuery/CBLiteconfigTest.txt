//insert an expense

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 2000.00 using Credit Card 4xxx1005 is made at HOTEL Anand on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 30000.00 using Credit Card 4xxx1005 is made at HOTEL Anand on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 6000.00 using Credit Card 4xxx1006 is made at HOTEL Anand on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 70000.00 using Credit Card 4xxx1006 is made at HOTEL Anand on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 6000.00 using Credit Card 4xxx1005 is made at HOTEL Anand on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 500.00 using Credit Card 4xxx1005 is made at HOTEL Anand1 on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );        
        

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 500.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );        


var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 250.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );
        
var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 1500.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-JUN-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );                

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 300.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-AUG-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );        


var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 250.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );
        
var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 1500.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-JUN-14. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );                

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 300.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 10-AUG-14. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );        

 var tranCardBillRemainder = { sender : "AD-ICICIB", msg : "Dear Customer, Total payment of INR 3,612.16 on Credit Card A/c 9xxx9009 is due.Pls pay min amt of INR 361.16 by 13-AUG-15 to avoid charges. Please ignore if paid."};
smsReader.parse(tranCardBillRemainder, function(tranData) {
        config.db.post(tranData, function(err, ok) {
            console.log("inserted successfully");
        });}, function(err) { console.log(err); } );        


// lista ll expenses

config.db(["_design/expenseTrackNew", "_view"])(["expenseTrackListsNew", {descending : true}], function(err, expenseTrackListView) {
                  console.log("expenseTrackLists",expenseTrackListView);
            });

// list the bills

config.db(["_design/expenseTrackNew", "_view"])(["expenseBillRemainder", {descending : true}], function(err, expenseTrackListView) {
                  console.log("expenseTrackLists",expenseTrackListView);
            });

// group by account
                  
config.db(["_design/expenseTrackNew", "_view"])(["expenseTrackByAccount", {group_level : 1}], function(err, expenseTrackListView) {
                  console.log("expenseTrackLists",expenseTrackListView);
            });
          
// group by account,merchant                  
config.db(["_design/expenseTrackNew", "_view"])(["expenseTrackByAccount", {group_level : 2}], function(err, expenseTrackListView) {
                console.log("expenseTrackLists",expenseTrackListView);
          });

// group by year,month
config.db(["_design/expenseTrackNew", "_view"])(["expenseTrackByDate",{group_level : 2}], function(err, expenseTrackListView) {
                console.log("expenseTrackLists",expenseTrackListView);
          });

// group by year
config.db(["_design/expenseTrackNew", "_view"])(["expenseTrackByDate", {group_level : 2}], function(err, expenseTrackListView) {
                console.log("expenseTrackLists",expenseTrackListView);
          });


//delete DB.
config.db.del(function() { console.log(arguments)
          });
          
//sms parser test

var tranCCSms = { sender : "AD-ICICIB", msg : "Tranx of INR 500.00 using Credit Card 4xxx1006 is made at HOTEL Anand1 on 12-JUL-15. Avbl Cr lmt:INR 1,51,002.97, Total Cr lmt: INR XXXXX."};
smsReader.parse(tranCCSms, function(tranData) {
console.log(tranData);
});
            